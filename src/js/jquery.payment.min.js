(()=>{var F=(a,l)=>()=>(l||a((l={exports:{}}).exports,l),l.exports);var j=F(N=>{(function(){var a,l,m,c,f,y,C,$,T,w,x,h,S,p,g,_,k,D,b,d,E=[].slice,L=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};a=jQuery,a.payment={},a.payment.fn={},a.fn.payment=function(){var e,t;return t=arguments[0],e=2<=arguments.length?E.call(arguments,1):[],a.payment.fn[t].apply(this,e)},f=/(\d{1,4})/g,c=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:f,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:f,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:f,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:f,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:f,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[0-5]/,format:f,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:f,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:f,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:f,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:f,length:[16],cvcLength:[3],luhn:!0}],l=function(e){var t,r,n;for(e=(e+"").replace(/\D/g,""),r=0,n=c.length;r<n;r++)if(t=c[r],t.pattern.test(e))return t},m=function(e){var t,r,n;for(r=0,n=c.length;r<n;r++)if(t=c[r],t.type===e)return t},S=function(e){var t,r,n,i,u,o;for(n=!0,i=0,r=(e+"").split("").reverse(),u=0,o=r.length;u<o;u++)t=r[u],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),i+=t;return i%10===0},h=function(e){var t;return!!(e.prop("selectionStart")!=null&&e.prop("selectionStart")!==e.prop("selectionEnd")||typeof document<"u"&&document!==null&&(t=document.selection)!=null&&typeof t.createRange=="function"&&t.createRange().text)},p=function(e){return setTimeout(function(){var t,r;return t=a(e.currentTarget),r=t.val(),r=a.payment.formatCardNumber(r),t.val(r)})},$=function(e){var t,r,n,i,u,o,s;if(n=String.fromCharCode(e.which),!!/^\d+$/.test(n)&&(t=a(e.currentTarget),s=t.val(),r=l(s+n),i=(s.replace(/\D/g,"")+n).length,o=16,r&&(o=r.length[r.length.length-1]),!(i>=o)&&!(t.prop("selectionStart")!=null&&t.prop("selectionStart")!==s.length))){if(r&&r.type==="amex"?u=/^(\d{4}|\d{4}\s\d{6})$/:u=/(?:^|\s)(\d{4})$/,u.test(s))return e.preventDefault(),setTimeout(function(){return t.val(s+" "+n)});if(u.test(s+n))return e.preventDefault(),setTimeout(function(){return t.val(s+n+" ")})}},y=function(e){var t,r;if(t=a(e.currentTarget),r=t.val(),e.which===8&&!(t.prop("selectionStart")!=null&&t.prop("selectionStart")!==r.length)){if(/\d\s$/.test(r))return e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d\s$/,""))});if(/\s\d?$/.test(r))return e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\s\d?$/,""))})}},g=function(e){return setTimeout(function(){var t,r;return t=a(e.currentTarget),r=t.val(),r=a.payment.formatExpiry(r),t.val(r)})},T=function(e){var t,r,n;if(r=String.fromCharCode(e.which),!!/^\d+$/.test(r)){if(t=a(e.currentTarget),n=t.val()+r,/^\d$/.test(n)&&n!=="0"&&n!=="1")return e.preventDefault(),setTimeout(function(){return t.val("0"+n+" / ")});if(/^\d\d$/.test(n))return e.preventDefault(),setTimeout(function(){return t.val(""+n+" / ")})}},w=function(e){var t,r,n;if(r=String.fromCharCode(e.which),!!/^\d+$/.test(r)&&(t=a(e.currentTarget),n=t.val(),/^\d\d$/.test(n)))return t.val(""+n+" / ")},x=function(e){var t,r,n;if(n=String.fromCharCode(e.which),(n==="/"||n===" ")&&(t=a(e.currentTarget),r=t.val(),/^\d$/.test(r)&&r!=="0"))return t.val("0"+r+" / ")},C=function(e){var t,r;if(t=a(e.currentTarget),r=t.val(),e.which===8&&!(t.prop("selectionStart")!=null&&t.prop("selectionStart")!==r.length)&&/\s\/\s\d?$/.test(r))return e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\s\/\s\d?$/,""))})},b=function(e){var t;return e.metaKey||e.ctrlKey?!0:e.which===32?!1:e.which===0||e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},k=function(e){var t,r,n,i;if(t=a(e.currentTarget),n=String.fromCharCode(e.which),!!/^\d+$/.test(n)&&!h(t))return i=(t.val()+n).replace(/\D/g,""),r=l(i),r?i.length<=r.length[r.length.length-1]:i.length<=16},D=function(e){var t,r,n;if(t=a(e.currentTarget),r=String.fromCharCode(e.which),!!/^\d+$/.test(r)&&!h(t)&&(n=t.val()+r,n=n.replace(/\D/g,""),n.length>6))return!1},_=function(e){var t,r,n;if(t=a(e.currentTarget),r=String.fromCharCode(e.which),!!/^\d+$/.test(r)&&!h(t))return n=t.val()+r,n.length<=4},d=function(e){var t,r,n,i,u;if(t=a(e.currentTarget),u=t.val(),i=a.payment.cardType(u)||"unknown",!t.hasClass(i))return r=function(){var o,s,v;for(v=[],o=0,s=c.length;o<s;o++)n=c[o],v.push(n.type);return v}(),t.removeClass("unknown"),t.removeClass(r.join(" ")),t.addClass(i),t.toggleClass("identified",i!=="unknown"),t.trigger("payment.cardType",i)},a.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",_),this},a.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",D),this.on("keypress",T),this.on("keypress",x),this.on("keypress",w),this.on("keydown",C),this.on("change",g),this.on("input",g),this},a.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",k),this.on("keypress",$),this.on("keydown",y),this.on("keyup",d),this.on("paste",p),this.on("change",p),this.on("input",p),this.on("input",d),this},a.payment.fn.restrictNumeric=function(){return this.on("keypress",b),this},a.payment.fn.cardExpiryVal=function(){return a.payment.cardExpiryVal(a(this).val())},a.payment.cardExpiryVal=function(e){var t,r,n,i;return e=e.replace(/\s/g,""),i=e.split("/",2),t=i[0],n=i[1],(n!=null?n.length:void 0)===2&&/^\d+$/.test(n)&&(r=new Date().getFullYear(),r=r.toString().slice(0,2),n=r+n),t=parseInt(t,10),n=parseInt(n,10),{month:t,year:n}},a.payment.validateCardNumber=function(e){var t,r;return e=(e+"").replace(/\s+|-/g,""),!/^\d+$/.test(e)||(t=l(e),!t)?!1:(r=e.length,L.call(t.length,r)>=0&&(t.luhn===!1||S(e)))},a.payment.validateCardExpiry=function(e,t){var r,n,i;return typeof e=="object"&&"month"in e&&(i=e,e=i.month,t=i.year),!(e&&t)||(e=a.trim(e),t=a.trim(t),!/^\d+$/.test(e))||!/^\d+$/.test(t)||!(1<=e&&e<=12)||(t.length===2&&(t<70?t="20"+t:t="19"+t),t.length!==4)?!1:(n=new Date(t,e),r=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),n>r)},a.payment.validateCardCVC=function(e,t){var r,n;return e=a.trim(e),/^\d+$/.test(e)?(r=m(t),r!=null?(n=e.length,L.call(r.cvcLength,n)>=0):e.length>=3&&e.length<=4):!1},a.payment.cardType=function(e){var t;return e&&((t=l(e))!=null?t.type:void 0)||null},a.payment.formatCardNumber=function(e){var t,r,n,i;return t=l(e),t?(n=t.length[t.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,n),t.format.global?(i=e.match(t.format))!=null?i.join(" "):void 0:(r=t.format.exec(e),r==null?void 0:(r.shift(),r=a.grep(r,function(u){return u}),r.join(" ")))):e},a.payment.formatExpiry=function(e){var t,r,n,i;return r=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/),r?(t=r[1]||"",n=r[2]||"",i=r[3]||"",(i.length>0||n.length>0&&!/\ \/?\ ?/.test(n))&&(n=" / "),t.length===1&&t!=="0"&&t!=="1"&&(t="0"+t,n=" / "),t+n+i):""}}).call(N)});j();})();
